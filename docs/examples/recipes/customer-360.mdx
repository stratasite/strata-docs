# Customer 360 Recipe

Build a complete customer analytics model.

## Overview

Customer 360 provides a comprehensive view of customer behavior, including purchases, interactions, and lifetime value.

## Model Structure

### Customer Dimension

```yaml
name: Customer
cost: 10

fields:
  - type: dimension
    name: Customer ID
    data_type: integer
    expression:
      primary_key: true
      sql: customer_id

  - type: dimension
    name: Customer Name
    data_type: string
    expression:
      sql: customer_name

  - type: dimension
    name: Customer Segment
    data_type: string
    expression:
      sql: segment
```

### Orders Fact

```yaml
name: Orders
cost: 100

fields:
  - type: dimension
    name: Order ID
    data_type: integer
    expression:
      primary_key: true
      sql: order_id

  - type: dimension
    name: Order Date
    data_type: date
    expression:
      sql: order_date

  - type: measure
    name: Total Revenue
    data_type: decimal
    formatter: currency_usd
    expression:
      sql: sum(amount)

  - type: measure
    name: Order Count
    data_type: integer
    expression:
      sql: count(*)
```

### Relationships

```yaml
datasource: warehouse

orders_customer:
  left: Orders
  right: Customer
  sql: left.customer_id = right.id
  cardinality: many_to_one
```

## Key Metrics

- **Total Revenue** - Sum of all order amounts
- **Order Count** - Number of orders
- **Average Order Value** - Revenue / Order Count
- **Customer Lifetime Value** - Total revenue per customer

## Next Steps

- [Learn about measures](/docs/semantic-model/fields/measures)
- [Explore relationships](/docs/cli/relationships)
